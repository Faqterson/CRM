var Rates = [
{
    year: "2018",
    planName: "Onyx<1",
    principalRisk: 4108,
    adultDependentRisk: 3072,
    childRisk: 1229,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Onyx>1",
    principalRisk: 4275,
    adultDependentRisk: 3179,
    childRisk: 1334,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Onyx>2",
    principalRisk: 4616,
    adultDependentRisk: 3465,
    childRisk: 1488,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Emerald<1",
    principalRisk: 2483,
    adultDependentRisk: 1845,
    childRisk: 916,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Emerald>1",
    principalRisk: 2749,
    adultDependentRisk: 2073,
    childRisk: 1027,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Emerald>2",
    principalRisk: 3081,
    adultDependentRisk: 2305,
    childRisk: 1145,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Emerald_Value<1",
    principalRisk: 2194,
    adultDependentRisk: 1631,
    childRisk: 809,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Emerald_Value>1",
    principalRisk: 2428,
    adultDependentRisk: 1832,
    childRisk: 908,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Emerald_Value>2",
    principalRisk: 2721,
    adultDependentRisk: 2036,
    childRisk: 1011,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Ruby<1",
    principalRisk: 2230,
    adultDependentRisk: 1635,
    childRisk: 860,
    principalSavings: 2230 * 0.2,
    adultDependentSavings: 1635 * 0.2,
    childSavings: 860 * 0.2
},
{
    year: "2018",
    planName: "Ruby>1",
    principalRisk: 2485,
    adultDependentRisk: 1825,
    childRisk: 965,
    principalSavings: 2485 * 0.2,
    adultDependentSavings: 1825 * 0.2,
    childSavings: 965 * 0.2
},
{
    year: "2018",
    planName: "Ruby>2",
    principalRisk: 2760,
    adultDependentRisk: 2025,
    childRisk: 1065,
    principalSavings: 2760 * 0.2,
    adultDependentSavings: 2025 * 0.2,
    childSavings: 1065 * 0.2
},
{
    year: "2018",
    planName: "Beryl<1",
    principalRisk: 1090,
    adultDependentRisk: 1055,
    childRisk: 605,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Beryl>1",
    principalRisk: 1182,
    adultDependentRisk: 1139,
    childRisk: 668,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Beryl>2",
    principalRisk: 1290,
    adultDependentRisk: 1253,
    childRisk: 717,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Beryl>3",
    principalRisk: 1547,
    adultDependentRisk: 1508,
    childRisk: 870,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Sapphire<1",
    principalRisk: 945,
    adultDependentRisk: 726,
    childRisk: 403,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Sapphire>1",
    principalRisk: 990,
    adultDependentRisk: 770,
    childRisk: 434,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Sapphire>2",
    principalRisk: 1052,
    adultDependentRisk: 810,
    childRisk: 460,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
},
{
    year: "2018",
    planName: "Sapphire>3",
    principalRisk: 1170,
    adultDependentRisk: 962,
    childRisk: 554,
    principalSavings: 0,
    adultDependentSavings: 0,
    childSavings: 0
}
];

var OOH = [
{
    year: "2018",
    planName: "Onyx",
    Fam1: 18123,
    Fam2: 37147,
    Fam3: 0,
    Fam4: 0,
    Fam5: 0
},
{
    year: "2018",
    planName: "Emerald",
    Fam1: 10613,
    Fam2: 21370,
    Fam3: 0,
    Fam4: 0,
    Fam5: 0
},
{
    year: "2018",
    planName: "Emerald_Value",
    Fam1: 10613,
    Fam2: 21370,
    Fam3: 0,
    Fam4: 0,
    Fam5: 0
},
{
    year: "2018",
    planName: "Ruby",
    Fam1: 0,
    Fam2: 0,
    Fam3: 0,
    Fam4: 0,
    Fam5: 0
},
{
    year: "2018",
    planName: "Beryl",
    Fam1: 0,
    Fam2: 0,
    Fam3: 0,
    Fam4: 0,
    Fam5: 0
},
{
    year: "2018",
    planName: "Sapphire",
    Fam1: 0,
    Fam2: 0,
    Fam3: 0,
    Fam4: 0,
    Fam5: 0
}
];

function Risk(selYear, lngPlan, lngAdep, lngCdep) {

    if (lngPlan == "NoPlanSelected") {
        return false; // exit routine
    } else {
        var rate = findPlanRates(selYear, lngPlan);

        var result = rate.principalRisk - rate.principalSavings +
            lngAdep * (rate.adultDependentRisk - rate.adultDependentSavings) +
            lngCdep * (rate.childRisk - rate.childSavings);

        return result;
    }
}

function MSA(selYear, lngPlan, lngAdep, lngCdep) {

    if (lngPlan == "NoPlanSelected") {
        return false; // exit routine
    } else {
        var rate = findPlanRates(selYear, lngPlan);

        var result = rate.principalSavings +
            lngAdep * rate.adultDependentSavings +
            lngCdep * rate.childSavings;

        return result;
    }
}

function OOH(selYear, lngPlan, lngAdep, lngCdep) {

    var FamilySize = Math.min(lngAdep + lngCdep + 1, 5);
    var rate = findOOHRates(selYear, lngPlan);
    if (FamilySize == 1) {
        // Family of one
        var result = rate.Fam1
    } else if (FamilySize == 2) {
        // Family of two
        var result = rate.Fam2
    } else if (FamilySize == 3) {
        // Family of three
        var result = rate.Fam3
    } else if (FamilySize == 4) {
        // Family of four
        var result = rate.Fam4
    } else if (FamilySize == 5) {
        // Family of five
        var result = rate.Fam5
    }

    return result;

}

function findPlanRates(year, planName) {
    for (var i = 0; i < Rates.length; i++) {
        var rate = Rates[i];
        if (rate.year == year && rate.planName == planName) {
            return rate;
        }
    }

}

function findOOHRates(year, planName) {
    for (var i = 0; i < OOH.length; i++) {
        var rate = OOH[i];
        if (rate.year == year && rate.planName == planName) {
            return rate;
        }
    }

};
